# üìö Junior Dev Library API

![Python](https://img.shields.io/badge/Python-3.7+-blue) 
![FastAPI](https://img.shields.io/badge/Framework-FastAPI-green) 
![SQLAlchemy](https://img.shields.io/badge/ORM-SQLAlchemy-red) 
![JWT](https://img.shields.io/badge/Auth-JWT-orange) 
![PostgreSQL](https://img.shields.io/badge/DB-PostgreSQL-blueviolet)

RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∫–Ω–∏–≥ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

<pre>
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
   git clone https://github.com/JackSMiIe/junior_dev_library_api.git
   cd junior_dev_library_api

2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   python3 -m venv .venv
   source .venv/bin/activate  # Linux/Mac
   .venv\Scripts\activate     # Windows

3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   pip install -r requirements.txt

4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
   DATABASE_URL=postgresql://user:password@localhost:5432/library_db
   SECRET_KEY=your-secret-key-here
   ALGORITHM=HS256
   ACCESS_TOKEN_EXPIRE_MINUTES=30

5. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
   alembic upgrade head

6. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
   uvicorn app.main:app --reload
</pre>

## üßæ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–º:

- `POST /users/signup`

–í —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å:

- `username`
- `email`
- `password`

–ü–∞—Ä–æ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ö–µ—à–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- models.py # –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy)
- schemas.py # Pydantic-—Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- crud.py # CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏
- auth.py # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, JWT, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- database.py # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- main.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –º–∞—Ä—à—Ä—É—Ç—ã FastAPI

## üóÉ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### üìò –¢–∞–±–ª–∏—Ü–∞ `books`
- `id` *(int, PK)* ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–Ω–∏–≥–∏
- `title` *(str)* ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ
- `author` *(str)* ‚Äî –∞–≤—Ç–æ—Ä
- `year` *(int)* ‚Äî –≥–æ–¥ –∏–∑–¥–∞–Ω–∏—è
- `isbn` *(str, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)* ‚Äî –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–æ–º–µ—Ä –∫–Ω–∏–≥–∏
- `quantity` *(int)* ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

### üë§ –¢–∞–±–ª–∏—Ü–∞ `users`
- `id` *(int, PK)* ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` *(str, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)*
- `email` *(str, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)*
- `hashed_password` *(str)* ‚Äî —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
- `is_active` *(bool)* ‚Äî —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

üìå **–ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**  
–í—ã–¥–µ–ª–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (`isbn`, `username`, `email`) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∏ —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫.

---

## ‚öôÔ∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

- **–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ CRUD —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `ISBN` –∏ –Ω–∞–ª–∏—á–∏–µ –∫–Ω–∏–≥–∏.
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥:** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤) –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ CRUD.
- **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `skip` –∏ `limit` –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏.

üí° *–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:*  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Pydantic.dict(exclude_unset=True)`, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ–ª—è –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **JWT** (JSON Web Tokens) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞.
- –¢–æ–∫–µ–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è, –ø–æ–¥–ø–∏—Å–∞–Ω—ã `SECRET_KEY` —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º `HS256`.
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ ‚Äî —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É **PyJWT**.
- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é **passlib (bcrypt)**.

üîê **–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- —Å–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–∏–≥
- –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥
- —É–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫:  
`Authorization: Bearer <token>`

‚úÖ *–ü–ª—é—Å—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:* –ø—Ä–æ—Å—Ç–æ—Ç–∞, –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–∏—á–∞

### üìì –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–Ω–∏–≥

–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `book_logs`:

| –ü–æ–ª–µ         | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|----------|
| `id`         | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–ø–∏—Å–∏ |
| `book_id`    | ID –∫–Ω–∏–≥–∏ |
| `user_id`    | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `action_type`| create / update / delete |
| `timestamp`  | –í—Ä–µ–º—è –∏–∑–º–µ–Ω–µ–Ω–∏—è |
| `changes`    | JSON —Å –¥–µ—Ç–∞–ª—è–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π |

üìå CRUD-—Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏.  
üìå JWT –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–≤–µ—Ä—à–∏–≤—à–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏–µ.  
üìå –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –∞—É–¥–∏—Ç, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** –≤—Å–µ CRUD –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
- **–ö–æ–¥:** —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, —á–∏—Ç–∞–µ–º—ã–π, —Å–ª–µ–¥—É–µ—Ç PEP8.
- **–ë–î:** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLAlchemy + Alembic, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** JWT –∏ bcrypt –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –¥–æ—Å—Ç—É–ø –∑–∞—â–∏—â—ë–Ω.
- **–¢–µ—Å—Ç—ã:** –ø–æ–∫—Ä—ã–≤–∞—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ø–æ–ª–Ω–∞—è, –ø–æ–Ω—è—Ç–Ω–∞—è, –æ–±—ä—è—Å–Ω—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è.
- **–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:** —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
- **–¢–≤–æ—Ä—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å:** –ø—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
